{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/rohansingh/Projects/ScrapePilot.ai/apps/web/src/components/3d/crystal-animation.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Canvas, useFrame } from \"@react-three/fiber\";\nimport * as THREE from \"three\";\n\nfunction Crystal() {\n  const meshRef = React.useRef<THREE.Mesh>(null);\n  const materialRef = React.useRef<THREE.ShaderMaterial>(null);\n\n  // Custom shader for gradient effect\n  const vertexShader = `\n    varying vec2 vUv;\n    varying vec3 vNormal;\n    varying vec3 vPosition;\n\n    void main() {\n      vUv = uv;\n      vNormal = normalize(normalMatrix * normal);\n      vPosition = position;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n  `;\n\n  const fragmentShader = `\n    uniform float uTime;\n    varying vec2 vUv;\n    varying vec3 vNormal;\n    varying vec3 vPosition;\n\n    void main() {\n      // Pink to purple gradient based on position and time\n      vec3 pink = vec3(0.925, 0.286, 0.6);\n      vec3 purple = vec3(0.545, 0.361, 0.965);\n      vec3 magenta = vec3(0.8, 0.2, 0.8);\n\n      float mixFactor = sin(vPosition.y * 2.0 + uTime * 0.5) * 0.5 + 0.5;\n      vec3 baseColor = mix(pink, purple, mixFactor);\n\n      // Add some variation based on normal\n      float fresnel = pow(1.0 - abs(dot(vNormal, vec3(0.0, 0.0, 1.0))), 2.0);\n      baseColor = mix(baseColor, magenta, fresnel * 0.5);\n\n      // Add glow effect\n      float glow = pow(fresnel, 3.0) * 0.5;\n\n      gl_FragColor = vec4(baseColor + glow, 1.0);\n    }\n  `;\n\n  useFrame((state) => {\n    if (meshRef.current) {\n      meshRef.current.rotation.y = state.clock.getElapsedTime() * 0.2;\n      meshRef.current.rotation.x = Math.sin(state.clock.getElapsedTime() * 0.3) * 0.1;\n    }\n    if (materialRef.current?.uniforms?.uTime) {\n      materialRef.current.uniforms.uTime.value = state.clock.getElapsedTime();\n    }\n  });\n\n  // Create spiky sphere geometry\n  const geometry = React.useMemo(() => {\n    const geo = new THREE.IcosahedronGeometry(1.5, 1);\n    const positions = geo.attributes.position as THREE.BufferAttribute;\n\n    if (!positions) return geo;\n\n    for (let i = 0; i < positions.count; i++) {\n      const x = positions.getX(i);\n      const y = positions.getY(i);\n      const z = positions.getZ(i);\n\n      const length = Math.sqrt(x * x + y * y + z * z);\n      const scale = 1 + Math.random() * 0.8; // Random spikes\n\n      positions.setXYZ(\n        i,\n        (x / length) * scale * 1.5,\n        (y / length) * scale * 1.5,\n        (z / length) * scale * 1.5\n      );\n    }\n\n    geo.computeVertexNormals();\n    return geo;\n  }, []);\n\n  return (\n    <mesh ref={meshRef} geometry={geometry}>\n      <shaderMaterial\n        ref={materialRef}\n        vertexShader={vertexShader}\n        fragmentShader={fragmentShader}\n        uniforms={{\n          uTime: { value: 0 },\n        }}\n      />\n    </mesh>\n  );\n}\n\n// Floating particles around the crystal\nfunction Particles() {\n  const particlesRef = React.useRef<THREE.Points>(null);\n  const count = 50;\n\n  const geometry = React.useMemo(() => {\n    const geo = new THREE.BufferGeometry();\n    const positions = new Float32Array(count * 3);\n\n    for (let i = 0; i < count; i++) {\n      const theta = Math.random() * Math.PI * 2;\n      const phi = Math.random() * Math.PI;\n      const r = 2 + Math.random() * 2;\n\n      positions[i * 3] = r * Math.sin(phi) * Math.cos(theta);\n      positions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);\n      positions[i * 3 + 2] = r * Math.cos(phi);\n    }\n\n    geo.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    return geo;\n  }, []);\n\n  useFrame((state) => {\n    if (particlesRef.current) {\n      particlesRef.current.rotation.y = state.clock.getElapsedTime() * 0.05;\n    }\n  });\n\n  return (\n    <points ref={particlesRef} geometry={geometry}>\n      <pointsMaterial\n        size={0.05}\n        color=\"#ec4899\"\n        transparent\n        opacity={0.6}\n        sizeAttenuation\n      />\n    </points>\n  );\n}\n\nfunction Scene() {\n  return (\n    <>\n      <ambientLight intensity={0.3} />\n      <pointLight position={[5, 5, 5]} intensity={0.8} color=\"#ec4899\" />\n      <pointLight position={[-5, -5, 5]} intensity={0.5} color=\"#8b5cf6\" />\n      <Crystal />\n      <Particles />\n    </>\n  );\n}\n\nexport function CrystalAnimation() {\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return <CrystalFallback />;\n  }\n\n  return (\n    <div className=\"relative w-full h-[400px]\">\n      <Canvas\n        camera={{ position: [0, 0, 5], fov: 50 }}\n        dpr={[1, 2]}\n        gl={{ antialias: true, alpha: true }}\n        style={{ background: \"transparent\" }}\n      >\n        <Scene />\n      </Canvas>\n      {/* Glow effect */}\n      <div\n        className=\"absolute inset-0 pointer-events-none\"\n        style={{\n          background:\n            \"radial-gradient(circle at center, rgba(236, 72, 153, 0.15) 0%, transparent 60%)\",\n        }}\n      />\n    </div>\n  );\n}\n\nfunction CrystalFallback() {\n  return (\n    <div className=\"relative w-full h-[400px] flex items-center justify-center\">\n      <div\n        className=\"w-48 h-48 rounded-full animate-pulse\"\n        style={{\n          background:\n            \"radial-gradient(circle, #ec4899 0%, #8b5cf6 50%, transparent 70%)\",\n          filter: \"blur(40px)\",\n        }}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}